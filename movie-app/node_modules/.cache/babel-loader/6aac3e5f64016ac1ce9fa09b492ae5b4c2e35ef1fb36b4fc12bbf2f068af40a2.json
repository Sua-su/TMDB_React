{"ast":null,"code":"var _s = $RefreshSig$();\n/**\n * Custom hook to fetch movies from the API.\n * @param {string} url - The URL for the API endpoint.\n * @param {number} currentPage - The current page number.\n * @returns {Object} - An object containing movies, loading, and error states.\n */\nimport { useState, useEffect } from 'react';\n\n/**\n * Custom hook to fetch movies from the API.\n * @param {string} url - The URL for the API endpoint.\n * @param {number} currentPage - The current page number.\n * @returns {Object} - An object containing movies, loading, and error states.\n */\nfunction useFetchMovies(url, currentPage) {\n  _s();\n  const [movies, setMovies] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const API_KEY = '3561076fd6349b2fc8aea1844991c588';\n  const API_URL = 'https://api.themoviedb.org/3';\n  const ERROR_MESSAGES = {\n    NO_MOVIE_FOUND: 'No movie found',\n    LOADING_ERROR: 'There was a problem loading the movies.'\n  };\n  useEffect(() => {\n    /**\n     * Fetches movies from the API based on the provided URL and current page number.\n     * @throws {Error} - If there is an error in fetching movies.\n     */\n    async function fetchMovies() {\n      setLoading(true);\n      setError(null);\n      try {\n        const fullUrl = `${API_URL}${url}&api_key=${API_KEY}&page=${currentPage}`;\n        const response = await fetch(fullUrl);\n        if (response.ok) {\n          const data = await response.json();\n          if (data.results && data.results.length > 0) {\n            setMovies(data.results);\n          } else {\n            setMovies([]);\n            setError(ERROR_MESSAGES.NO_MOVIE_FOUND);\n          }\n        } else {\n          setError(ERROR_MESSAGES.LOADING_ERROR);\n        }\n      } catch (error) {\n        setError(ERROR_MESSAGES.LOADING_ERROR);\n      } finally {\n        setLoading(false);\n      }\n    }\n    if (url !== '') {\n      fetchMovies();\n    }\n  }, [url, currentPage]);\n  return {\n    movies,\n    loading,\n    error\n  };\n}\n_s(useFetchMovies, \"scgzV0oT2qUU32hFzE342kv5W0I=\");\nexport default useFetchMovies;","map":{"version":3,"names":["useState","useEffect","useFetchMovies","url","currentPage","_s","movies","setMovies","loading","setLoading","error","setError","API_KEY","API_URL","ERROR_MESSAGES","NO_MOVIE_FOUND","LOADING_ERROR","fetchMovies","fullUrl","response","fetch","ok","data","json","results","length"],"sources":["/Users/su/Documents/TMDB_project/movie-app/src/components/searchStates/useFetchMovies.jsx"],"sourcesContent":["/**\n * Custom hook to fetch movies from the API.\n * @param {string} url - The URL for the API endpoint.\n * @param {number} currentPage - The current page number.\n * @returns {Object} - An object containing movies, loading, and error states.\n */\nimport { useState, useEffect } from 'react';\n\n/**\n * Custom hook to fetch movies from the API.\n * @param {string} url - The URL for the API endpoint.\n * @param {number} currentPage - The current page number.\n * @returns {Object} - An object containing movies, loading, and error states.\n */\nfunction useFetchMovies(url, currentPage) {\n    const [movies, setMovies] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const API_KEY = '3561076fd6349b2fc8aea1844991c588';\n    const API_URL = 'https://api.themoviedb.org/3';\n    const ERROR_MESSAGES = {\n        NO_MOVIE_FOUND: 'No movie found',\n        LOADING_ERROR: 'There was a problem loading the movies.',\n    };\n\n    useEffect(() => {\n        /**\n         * Fetches movies from the API based on the provided URL and current page number.\n         * @throws {Error} - If there is an error in fetching movies.\n         */\n        async function fetchMovies() {\n            setLoading(true);\n            setError(null);\n            try {\n                const fullUrl = `${API_URL}${url}&api_key=${API_KEY}&page=${currentPage}`;\n                const response = await fetch(fullUrl);\n                if (response.ok) {\n                    const data = await response.json();\n                    if (data.results && data.results.length > 0) {\n                        setMovies(data.results);\n                    } else {\n                        setMovies([]);\n                        setError(ERROR_MESSAGES.NO_MOVIE_FOUND);\n                    }\n                } else {\n                    setError(ERROR_MESSAGES.LOADING_ERROR);\n                }\n            } catch (error) {\n                setError(ERROR_MESSAGES.LOADING_ERROR);\n            } finally {\n                setLoading(false);\n            }\n        }\n\n        if (url !== '') {\n            fetchMovies();\n        }\n    }, [url, currentPage]);\n\n    return { movies, loading, error };\n}\n\nexport default useFetchMovies;\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,cAAcA,CAACC,GAAG,EAAEC,WAAW,EAAE;EAAAC,EAAA;EACtC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMY,OAAO,GAAG,kCAAkC;EAClD,MAAMC,OAAO,GAAG,8BAA8B;EAC9C,MAAMC,cAAc,GAAG;IACnBC,cAAc,EAAE,gBAAgB;IAChCC,aAAa,EAAE;EACnB,CAAC;EAEDf,SAAS,CAAC,MAAM;IACZ;AACR;AACA;AACA;IACQ,eAAegB,WAAWA,CAAA,EAAG;MACzBR,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACd,IAAI;QACA,MAAMO,OAAO,GAAI,GAAEL,OAAQ,GAAEV,GAAI,YAAWS,OAAQ,SAAQR,WAAY,EAAC;QACzE,MAAMe,QAAQ,GAAG,MAAMC,KAAK,CAACF,OAAO,CAAC;QACrC,IAAIC,QAAQ,CAACE,EAAE,EAAE;UACb,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,EAAE;UAClC,IAAID,IAAI,CAACE,OAAO,IAAIF,IAAI,CAACE,OAAO,CAACC,MAAM,GAAG,CAAC,EAAE;YACzClB,SAAS,CAACe,IAAI,CAACE,OAAO,CAAC;UAC3B,CAAC,MAAM;YACHjB,SAAS,CAAC,EAAE,CAAC;YACbI,QAAQ,CAACG,cAAc,CAACC,cAAc,CAAC;UAC3C;QACJ,CAAC,MAAM;UACHJ,QAAQ,CAACG,cAAc,CAACE,aAAa,CAAC;QAC1C;MACJ,CAAC,CAAC,OAAON,KAAK,EAAE;QACZC,QAAQ,CAACG,cAAc,CAACE,aAAa,CAAC;MAC1C,CAAC,SAAS;QACNP,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ;IAEA,IAAIN,GAAG,KAAK,EAAE,EAAE;MACZc,WAAW,EAAE;IACjB;EACJ,CAAC,EAAE,CAACd,GAAG,EAAEC,WAAW,CAAC,CAAC;EAEtB,OAAO;IAAEE,MAAM;IAAEE,OAAO;IAAEE;EAAM,CAAC;AACrC;AAACL,EAAA,CA/CQH,cAAc;AAiDvB,eAAeA,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}