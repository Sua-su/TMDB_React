{"ast":null,"code":"var _jsxFileName = \"/Users/tidto/react_proj/TMDB_React/frontend/src/reviews/ReviewEdit.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReviewEdit = () => {\n  _s();\n  const {\n    boardNo\n  } = useParams(); // URL에서 글 번호 가져오기\n  const navigate = useNavigate();\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const userId = localStorage.getItem('userId');\n\n  // 스타일 (기존 테마 유지)\n  const styles = {\n    container: {\n      backgroundColor: '#2A2A2A',\n      minHeight: '100vh',\n      padding: '40px',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      color: 'white'\n    },\n    formCard: {\n      backgroundColor: '#333',\n      padding: '40px',\n      borderRadius: '20px',\n      width: '100%',\n      maxWidth: '600px',\n      boxShadow: '0 10px 20px rgba(0,0,0,0.5)',\n      borderLeft: '5px solid #53ef12'\n    },\n    label: {\n      display: 'block',\n      marginBottom: '10px',\n      color: '#53ef12',\n      fontWeight: 'bold'\n    },\n    input: {\n      width: '100%',\n      padding: '15px',\n      marginBottom: '20px',\n      borderRadius: '8px',\n      border: '1px solid #555',\n      backgroundColor: '#222',\n      color: 'white',\n      fontSize: '1rem'\n    },\n    textarea: {\n      width: '100%',\n      padding: '15px',\n      marginBottom: '20px',\n      borderRadius: '8px',\n      border: '1px solid #555',\n      backgroundColor: '#222',\n      color: 'white',\n      fontSize: '1rem',\n      height: '150px',\n      resize: 'none'\n    },\n    submitBtn: {\n      width: '100%',\n      backgroundColor: '#53ef12',\n      color: '#2A2A2A',\n      padding: '15px',\n      border: 'none',\n      borderRadius: '8px',\n      fontWeight: 'bold',\n      fontSize: '1.1rem',\n      cursor: 'pointer'\n    },\n    cancelBtn: {\n      width: '100%',\n      backgroundColor: '#444',\n      color: '#aaa',\n      padding: '15px',\n      border: 'none',\n      borderRadius: '8px',\n      fontWeight: 'bold',\n      fontSize: '1rem',\n      cursor: 'pointer',\n      marginTop: '10px'\n    }\n  };\n\n  // 1. 기존 데이터 불러오기 (가장 중요한 부분!)\n  useEffect(() => {\n    axios.get(`http://localhost:8080/api/review/detail/${boardNo}`).then(res => {\n      // 가져온 데이터를 state에 넣어서 입력창을 채움\n      setTitle(res.data.boardTitle);\n      setContent(res.data.boardContent);\n\n      // 본인이 아니면 튕겨내기 (보안)\n      if (res.data.memberId !== userId) {\n        alert('수정 권한이 없습니다.');\n        navigate('/review');\n      }\n    }).catch(err => console.error(err));\n  }, [boardNo, userId, navigate]);\n\n  // 2. 수정 요청 보내기\n  const handleUpdate = e => {\n    e.preventDefault();\n    axios.put('http://localhost:8080/api/review/edit', {\n      boardNo: boardNo,\n      // 어떤 글인지 알려줘야 함 (WHERE절)\n      boardTitle: title,\n      // 바꿀 제목\n      boardContent: content // 바꿀 내용\n    }).then(res => {\n      if (res.data.status === 'success') {\n        alert('수정 완료!');\n        navigate(`/review/${boardNo}`); // 상세 페이지로 복귀\n      } else {\n        alert('수정 실패');\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.formCard,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: '30px',\n          color: '#53ef12'\n        },\n        children: \"Review Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleUpdate,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: \"\\uC81C\\uBAA9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: styles.input,\n            type: \"text\",\n            value: title // 여기가 채워져 있음\n            ,\n            onChange: e => setTitle(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: \"\\uB0B4\\uC6A9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            style: styles.textarea,\n            value: content // 여기가 채워져 있음\n            ,\n            onChange: e => setContent(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: styles.submitBtn,\n          children: \"\\uC218\\uC815 \\uC644\\uB8CC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          style: styles.cancelBtn,\n          onClick: () => navigate(-1),\n          children: \"\\uCDE8\\uC18C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(ReviewEdit, \"kCDc2VqCkUfHlbMECYh25jS3kbk=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ReviewEdit;\nexport default ReviewEdit;\nvar _c;\n$RefreshReg$(_c, \"ReviewEdit\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","useParams","jsxDEV","_jsxDEV","ReviewEdit","_s","boardNo","navigate","title","setTitle","content","setContent","userId","localStorage","getItem","styles","container","backgroundColor","minHeight","padding","display","justifyContent","alignItems","color","formCard","borderRadius","width","maxWidth","boxShadow","borderLeft","label","marginBottom","fontWeight","input","border","fontSize","textarea","height","resize","submitBtn","cursor","cancelBtn","marginTop","get","then","res","data","boardTitle","boardContent","memberId","alert","catch","err","console","error","handleUpdate","e","preventDefault","put","status","style","children","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","required","onClick","_c","$RefreshReg$"],"sources":["/Users/tidto/react_proj/TMDB_React/frontend/src/reviews/ReviewEdit.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useParams } from 'react-router-dom';\n\nconst ReviewEdit = () => {\n  const { boardNo } = useParams(); // URL에서 글 번호 가져오기\n  const navigate = useNavigate();\n\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const userId = localStorage.getItem('userId');\n\n  // 스타일 (기존 테마 유지)\n  const styles = {\n    container: { backgroundColor: '#2A2A2A', minHeight: '100vh', padding: '40px', display: 'flex', justifyContent: 'center', alignItems: 'center', color: 'white' },\n    formCard: { backgroundColor: '#333', padding: '40px', borderRadius: '20px', width: '100%', maxWidth: '600px', boxShadow: '0 10px 20px rgba(0,0,0,0.5)', borderLeft: '5px solid #53ef12' },\n    label: { display: 'block', marginBottom: '10px', color: '#53ef12', fontWeight: 'bold' },\n    input: { width: '100%', padding: '15px', marginBottom: '20px', borderRadius: '8px', border: '1px solid #555', backgroundColor: '#222', color: 'white', fontSize: '1rem' },\n    textarea: { width: '100%', padding: '15px', marginBottom: '20px', borderRadius: '8px', border: '1px solid #555', backgroundColor: '#222', color: 'white', fontSize: '1rem', height: '150px', resize: 'none' },\n    submitBtn: { width: '100%', backgroundColor: '#53ef12', color: '#2A2A2A', padding: '15px', border: 'none', borderRadius: '8px', fontWeight: 'bold', fontSize: '1.1rem', cursor: 'pointer' },\n    cancelBtn: { width: '100%', backgroundColor: '#444', color: '#aaa', padding: '15px', border: 'none', borderRadius: '8px', fontWeight: 'bold', fontSize: '1rem', cursor: 'pointer', marginTop: '10px' }\n  };\n\n  // 1. 기존 데이터 불러오기 (가장 중요한 부분!)\n  useEffect(() => {\n    axios.get(`http://localhost:8080/api/review/detail/${boardNo}`)\n      .then(res => {\n        // 가져온 데이터를 state에 넣어서 입력창을 채움\n        setTitle(res.data.boardTitle);\n        setContent(res.data.boardContent);\n        \n        // 본인이 아니면 튕겨내기 (보안)\n        if(res.data.memberId !== userId) {\n            alert('수정 권한이 없습니다.');\n            navigate('/review');\n        }\n      })\n      .catch(err => console.error(err));\n  }, [boardNo, userId, navigate]);\n\n  // 2. 수정 요청 보내기\n  const handleUpdate = (e) => {\n    e.preventDefault();\n\n    axios.put('http://localhost:8080/api/review/edit', {\n      boardNo: boardNo,       // 어떤 글인지 알려줘야 함 (WHERE절)\n      boardTitle: title,      // 바꿀 제목\n      boardContent: content   // 바꿀 내용\n    }).then(res => {\n      if (res.data.status === 'success') {\n        alert('수정 완료!');\n        navigate(`/review/${boardNo}`); // 상세 페이지로 복귀\n      } else {\n        alert('수정 실패');\n      }\n    });\n  };\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.formCard}>\n        <h2 style={{ textAlign: 'center', marginBottom: '30px', color: '#53ef12' }}>Review Edit</h2>\n        \n        <form onSubmit={handleUpdate}>\n          <div>\n            <label style={styles.label}>제목</label>\n            <input \n              style={styles.input}\n              type=\"text\" \n              value={title} // 여기가 채워져 있음\n              onChange={(e) => setTitle(e.target.value)}\n              required\n            />\n          </div>\n\n          <div>\n            <label style={styles.label}>내용</label>\n            <textarea \n              style={styles.textarea}\n              value={content} // 여기가 채워져 있음\n              onChange={(e) => setContent(e.target.value)}\n              required\n            />\n          </div>\n\n          <button type=\"submit\" style={styles.submitBtn}>수정 완료</button>\n          <button type=\"button\" style={styles.cancelBtn} onClick={() => navigate(-1)}>취소</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ReviewEdit;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}